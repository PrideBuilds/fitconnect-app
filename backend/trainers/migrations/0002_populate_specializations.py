# Generated by Django 4.2 on 2025-11-07 21:52

from django.db import migrations


def populate_specializations(apps, schema_editor):
    """Populate default fitness specializations"""
    Specialization = apps.get_model('trainers', 'Specialization')

    # Import slugify for manual slug generation
    from django.utils.text import slugify

    specializations = [
        {'name': 'Strength Training', 'icon': 'ğŸ’ª', 'description': 'Build muscle and increase strength'},
        {'name': 'Yoga', 'icon': 'ğŸ§˜', 'description': 'Flexibility, balance, and mindfulness'},
        {'name': 'HIIT', 'icon': 'ğŸ”¥', 'description': 'High-intensity interval training'},
        {'name': 'Cardio', 'icon': 'ğŸƒ', 'description': 'Cardiovascular endurance training'},
        {'name': 'Pilates', 'icon': 'ğŸ¤¸', 'description': 'Core strength and flexibility'},
        {'name': 'CrossFit', 'icon': 'ğŸ‹ï¸', 'description': 'Functional fitness and conditioning'},
        {'name': 'Boxing', 'icon': 'ğŸ¥Š', 'description': 'Boxing technique and fitness'},
        {'name': 'Cycling', 'icon': 'ğŸš´', 'description': 'Indoor and outdoor cycling'},
        {'name': 'Running', 'icon': 'ğŸƒâ€â™€ï¸', 'description': 'Running technique and endurance'},
        {'name': 'Nutrition', 'icon': 'ğŸ¥—', 'description': 'Diet and nutrition coaching'},
        {'name': 'Weight Loss', 'icon': 'âš–ï¸', 'description': 'Weight management and fat loss'},
        {'name': 'Sports Performance', 'icon': 'âš½', 'description': 'Sport-specific training'},
        {'name': 'Rehabilitation', 'icon': 'ğŸ©¹', 'description': 'Injury recovery and prevention'},
        {'name': 'Senior Fitness', 'icon': 'ğŸ‘´', 'description': 'Fitness for older adults'},
        {'name': 'Prenatal/Postnatal', 'icon': 'ğŸ¤°', 'description': 'Training for pregnancy'},
    ]

    for spec_data in specializations:
        Specialization.objects.get_or_create(
            name=spec_data['name'],
            defaults={
                'slug': slugify(spec_data['name']),  # Manually generate slug
                'icon': spec_data['icon'],
                'description': spec_data['description']
            }
        )


def reverse_populate(apps, schema_editor):
    """Remove seeded specializations"""
    Specialization = apps.get_model('trainers', 'Specialization')
    Specialization.objects.all().delete()


class Migration(migrations.Migration):

    dependencies = [
        ('trainers', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(populate_specializations, reverse_populate),
    ]
